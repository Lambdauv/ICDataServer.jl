<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Configuration - ICDataServer.jl</title>
      
      
      
      
        <meta name="author" content="Andrew Keller">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="ICDataServer.jl">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="ICDataServer.jl">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../None">
    <link rel="icon" type="image/x-icon" href="../None">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-54f87043f3.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../assets/Documenter.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-indigo palette-accent-blue">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Configuration
      </div>
    </div>
    
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/PainterQubits/ICDataServer.jl" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          ICDataServer.jl
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          PainterQubits/ICDataServer.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/PainterQubits/ICDataServer.jl/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/PainterQubits/ICDataServer.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Design" href="../design/">
      Design
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Configuration" href="./">
      Configuration
    </a>
    
      
      
        <ul>
          
            <li class="anchor">
              <a title="deps/config.json" href="#depsconfigjson">
                deps/config.json
              </a>
            </li>
          
            <li class="anchor">
              <a title="deps/instrumentkinds.json" href="#depsinstrumentkindsjson">
                deps/instrumentkinds.json
              </a>
            </li>
          
            <li class="anchor">
              <a title="deps/servers.json" href="#depsserversjson">
                deps/servers.json
              </a>
            </li>
          
            <li class="anchor">
              <a title="deps/users.json" href="#depsusersjson">
                deps/users.json
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <span class="section">API</span>
    <ul>
      
        
  <li>
    <a class="" title="General notes" href="../api/">
      General notes
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Jobs" href="../jobs/">
      Jobs
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Users" href="../users/">
      Users
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Servers" href="../servers/">
      Servers
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="Instruments" href="../instruments/">
      Instruments
    </a>
    
  </li>

      
    </ul>
  </li>

          
            
  <li>
    <span class="section">Miscellaneous</span>
    <ul>
      
        
  <li>
    <a class="" title="License" href="../LICENSE/">
      License
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
            <h1>Configuration</h1>
          
          <p>Several configuration files should be generated and put into the <code>deps</code> directory of the ICDataServer package. These are not tracked by git as they may contain sensitive information and in any case are specific to the particular installation. These are used by <a href="./#ICDataServer.setuptables"><code>ICDataServer.setuptables</code></a> to add default information.</p>
<p><a id='ICDataServer.setuptables' href='#ICDataServer.setuptables'>#</a>
<strong><code>ICDataServer.setuptables</code></strong> &mdash; <em>Function</em>.</p>
<div class="codehilite"><pre><span></span>setuptables()
</pre></div>


<p>Initialize a database with the tables needed to run ICDataServer:</p>
<ul>
<li><code>users</code></li>
<li><code>servers</code></li>
<li><code>instrumentkinds</code></li>
<li><code>instruments</code></li>
<li><code>jobs</code></li>
<li><code>notes</code></li>
</ul>
<p>The creation of the tables can proceed without additional input, but in some cases it may make sense for the tables to be automatically filled with data.</p>
<p>If new instrument kinds are added to <code>deps/instrumentkinds.json</code>, they will be added to <code>instrumentkinds</code> table. If kinds are encountered in the database that are not in the file, they remain in the database and are not deleted.</p>
<p>If new users are added to <code>deps/users.json</code>, they will be "upserted" into the <code>users</code> table (users are created if necessary; if an existing user name is attempted to be inserted into the table, then that user has their info updated from the json file). Existing users not found in users.json remain in the table.</p>
<p><a target='_blank' href='https://github.com/PainterQubits/ICDataServer.jl/tree/514403a46b775984394168023f072cf132e1384b/src/setup.jl#L1-L25' class='documenter-source'>source</a><br></p>
<p><a id='deps/config.json-1'></a></p>
<h3 id="depsconfigjson">deps/config.json</h3>
<p>This JSON file consists of up to four keys and largely exists to provide connection information between the database and InstrumentControl clients. Typical example:</p>
<div class="codehilite"><pre><span></span>{
    &quot;jobsock&quot;:&quot;tcp://*:50001&quot;,
    &quot;dsn&quot;:&quot;icdataserver&quot;,
}
</pre></div>


<p>Additional fields not shown in the example may include:</p>
<ul>
<li>"username": A username to connect to the database, if not provided when the DSN was configured.</li>
<li>"password": A password to connect to the database, if not provided when the DSN was configured.</li>
</ul>
<p><a id='deps/instrumentkinds.json-1'></a></p>
<h3 id="depsinstrumentkindsjson">deps/instrumentkinds.json</h3>
<p>This JSON file declares the various kinds of instruments. Its purpose is to standardize such declarations in the database. Typical example:</p>
<div class="codehilite"><pre><span></span>{
    &quot;kind&quot;: [
        &quot;awg&quot;,
        &quot;dcsource&quot;,
        &quot;rfsource&quot;,
        &quot;vna&quot;
    ]
}
</pre></div>


<p><a id='deps/servers.json-1'></a></p>
<h3 id="depsserversjson">deps/servers.json</h3>
<p>Declaration of servers. Typical example:</p>
<div class="codehilite"><pre><span></span>{
    &quot;servers&quot;: [
        {
            &quot;alias&quot;:&quot;local_data&quot;,
            &quot;address&quot;:&quot;127.0.0.1&quot;,
            &quot;port&quot;:&quot;50002&quot;
        },
        {
            &quot;alias&quot;:&quot;local_hw&quot;,
            &quot;address&quot;:&quot;127.0.0.1&quot;,
            &quot;port&quot;:&quot;50003&quot;
        }
    ]
}
</pre></div>


<p><a id='deps/users.json-1'></a></p>
<h3 id="depsusersjson">deps/users.json</h3>
<p>Declaration of users, including contact information which may be used by the software to send alerts and notifications. Typical example:</p>
<div class="codehilite"><pre><span></span>{
    &quot;users&quot;: [
        {
            &quot;username&quot;:&quot;default&quot;,
            &quot;first&quot;:&quot;No&quot;,
            &quot;last&quot;:&quot;Name&quot;
        }, {
            &quot;username&quot;:&quot;anotheruser&quot;,
            &quot;first&quot;:&quot;Really&quot;,
            &quot;middle&quot;:&quot;No&quot;,
            &quot;last&quot;:&quot;Name&quot;,
            &quot;email&quot;:&quot;someaddress@caltech.edu&quot;,
            &quot;phone&quot;:&quot;15555551212&quot;,
            &quot;office&quot;:&quot;Watson 5th floor&quot;
        }
    ]
}
</pre></div>


<p>The only required fields for each dictionary are <code>username</code>, <code>first</code>, <code>last</code>.</p>
          <aside class="copyright" role="note">
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../design/" title="Design">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Design
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../api/" title="General notes">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                General notes
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'PainterQubits/ICDataServer.jl';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
      <script src="../assets/mathjaxhelper.js"></script>
    
    
  </body>
</html>